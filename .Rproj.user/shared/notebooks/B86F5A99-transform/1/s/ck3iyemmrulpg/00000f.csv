"0","add_returns <- function(df) {"
"0","  "
"0","  #Lag is value from previous day"
"0","  df <- df |>"
"0","    mutate(daily_return = (adjusted / lag(adjusted)) - 1,"
"0","           daily_return = ifelse(is.na(daily_return), 0, daily_return),"
"0","           cumulative_return = cumprod(1 + daily_return) - 1)"
"0","           "
"0",""
"0","  #Save data to a csv"
"0","  #write_csv(df, file = paste0(""/Users/jackson/Documents/finance/data/stocks/"", ticker, "".csv""))"
"0","  "
"0","  return(df)"
"0","}"
"0",""
"0","stock_data_returns <- map(stock_data, add_returns)"
"2","Error in vctrs_vec_compat(.x, .purrr_user_env) : 
  object 'stock_data' not found
"
